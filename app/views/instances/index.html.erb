<% content_for :sidebar do %>
  <ul class="nav nav-pills flex-column">
    <li class="nav-item">
      <a class="nav-link active" href="#">Overview <span class="sr-only">(current)</span></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">New</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">Updates</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">Removals</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">By Account</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">By Network</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">Cost Control</a>
    </li>
  </ul>
<% end %>

<h1>Instances</h1>

<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th><%= sortable "instance_id", "Instance ID" %></th>
        <th><%= sortable "name" %></th>
        <th><%= sortable "instance_type", "Type" %></th>
        <th><%= sortable "account_id", "Account" %></th>
        <th><%= sortable "region", "Network" %></th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <% @instances.includes(:account).each do |instance| %>
        <tr>
          <td><%= link_to instance.instance_id, instance_path(instance) %></td>
          <td><%= instance.name %></td>
          <td><%= instance.instance_type %></td>
          <td><%= instance.account.name %></td>
          <td><%= instance.region %> <%= instance.vpc_id %> <%= instance.subnet_id %></td>
          <td>New</td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
